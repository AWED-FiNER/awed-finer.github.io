<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWED-FiNER | 36-Language NER</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js"></script>
    <style>
        :root { --primary: #00568b; --bg: #f4f7f9; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; }
        select, textarea, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; box-sizing: border-box; }
        button { background: var(--primary); color: #fff; font-weight: bold; cursor: pointer; border: none; }
        button:disabled { background: #aaa; }
        .status { font-size: 0.85rem; color: #666; font-style: italic; margin-bottom: 10px; }
        .output { background: #1a1a1a; color: #00ff00; padding: 15px; border-radius: 6px; min-height: 100px; font-family: monospace; white-space: pre-wrap; overflow-x: auto; border: 1px solid #333; }
    </style>
</head>
<body>

<div class="container">
    <h1>üåç AWED-FiNER</h1>
    <p style="text-align: center;">Fine-grained NER for 36 Languages</p>

    <label>1. Select Language</label>
    <select id="lang-select"></select>

    <label>2. Input Text</label>
    <textarea id="text-input" rows="3"></textarea>

    <button id="analyze-btn">Analyze Text</button>

    <div id="status-text" class="status">Ready.</div>
    <div id="output-display" class="output">Results will appear here...</div>
</div>

<script type="module">
    import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js";

    const MODELS = {
        "English": "Jude Bellingham joined Real Madrid in 2023.",
        "Chinese": "ÂßöÊòéÂá∫Áîü‰∫é‰∏äÊµ∑„ÄÇ",
        "Hindi": "‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä ‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§ø‡§§ ‡§è‡§ï ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ‡§¨‡§Ç‡§ó ‡§π‡•à‡•§",
        "Spanish": "Madrid es la capital de Espa√±a.",
        "Bodo": "‡§Ö‡§Æ‡§ø‡§§‡§æ‡§≠ ‡§¨‡§ö‡•ç‡§ö‡§®‡§Ü ‡§∏‡§æ‡§∏‡•á ‡§Æ‡•Å‡§Ç‡§¶‡§æ‡§Ç‡§ñ‡§æ ‡§´‡§æ‡§µ‡§ñ‡•Å‡§Ç‡§ó‡•Å‡§∞‡•§",
        "Mizo": "Aizawl khaw vawt tak a ni.",
        "Assamese": "‡¶Ö‡¶Æ‡¶ø‡¶§‡¶æ‡¶≠ ‡¶¨‡¶ö‡ßç‡¶ö‡¶® ‡¶è‡¶ú‡¶® ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶Ö‡¶≠‡¶ø‡¶®‡ßá‡¶§‡¶æ‡•§",
        "French": "Victor Hugo est n√© √† Besan√ßon.",
        "Urdu": "ŸÖÿ±ÿ≤ÿß ÿ∫ÿßŸÑÿ® ÿØ€ÅŸÑ€å ŸÖ€å⁄∫ ÿ±€Åÿ™€í ÿ™⁄æ€í€î",
        "Portuguese": "Cristiano Ronaldo joga futebol.",
        "Marathi": "‡§∏‡§ö‡∏¥‡∏ô ‡§§‡•á‡§Ç‡§°‡•Å‡§≤‡§ï‡§∞ ‡§Ø‡§æ‡§Ç‡§ö‡§æ ‡§ú‡§®‡•ç‡§Æ ‡§Æ‡•Å‡§Ç‡§¨‡§à‡§§ ‡§ù‡§æ‡§≤‡§æ.",
        "German": "Albert Einstein wurde in Ulm geboren.",
        "Telugu": "‡∞é‡∞®‡±ç.‡∞ü‡∞ø. ‡∞∞‡∞æ‡∞Æ‡∞æ‡∞∞‡∞æ‡∞µ‡±Å ‡∞®‡∞ø‡∞Æ‡±ç‡∞Æ‡∞ï‡±Ç‡∞∞‡±Å‡∞≤‡±ã ‡∞ú‡∞®‡±ç‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞æ‡∞∞‡±Å.",
        "Punjabi": "‡®Æ‡®π‡®æ‡®∞‡®æ‡®ú‡®æ ‡®∞‡®£‡®ú‡©Ä‡®§ ‡®∏‡®ø‡©∞‡®ò ‡®®‡©á ‡®≤‡®æ‡®π‡©å‡®∞ '‡®§‡©á ‡®∞‡®æ‡®ú ‡®ï‡©Ä‡®§‡®æ‡•§",
        "Tamil": "‡Æö‡Æö‡Øç‡Æö‡Æø‡Æ©‡Øç ‡Æü‡ØÜ‡Æ£‡Øç‡Æü‡ØÅ‡Æ≤‡Øç‡Æï‡Æ∞‡Øç ‡Æö‡ØÜ‡Æ©‡Øç‡Æ©‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æï‡Æø‡Æ∞‡Æø‡Æï‡Øç‡Æï‡ØÜ‡Æü‡Øç ‡Æµ‡Æø‡Æ≥‡Øà‡ÆØ‡Ææ‡Æü‡Æø‡Æ©‡Ææ‡Æ∞‡Øç.",
        "Farsi": "ŸÅÿ±ÿØŸàÿ≥€å ÿØÿ± ÿ™Ÿàÿ≥ ÿ®Ÿá ÿØŸÜ€åÿß ÿ¢ŸÖÿØ.",
        "Italian": "Dante Alighieri √® nato a Firenze.",
        "Gujarati": "‡™∞‡™µ‡™ø‡™®‡´ç‡™¶‡´ç‡™∞‡™®‡™æ‡™• ‡™ü‡™æ‡™ó‡´ã‡™∞‡´á ‡™ï‡™≤‡™ï‡™§‡´ç‡™§‡™æ‡™Æ‡™æ‡™Ç ‡™ó‡´Ä‡™§‡™æ‡™Ç‡™ú‡™≤‡™ø ‡™≤‡™ñ‡´Ä ‡™π‡™§‡´Ä.",
        "Kannada": "‡≤ï‡≥Ü. ‡≤∂‡≤ø‡≤µ‡≤∞‡≤æ‡≤Æ ‡≤ï‡≤æ‡≤∞‡≤Ç‡≤§‡≤∞‡≥Å ‡≤™‡≥Å‡≤§‡≥ç‡≤§‡≥Ç‡≤∞‡≤ø‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ú‡≤®‡≤ø‡≤∏‡≤ø‡≤¶‡≤∞‡≥Å.",
        "Ukrainian": "–¢–∞—Ä–∞—Å –®–µ–≤—á–µ–Ω–∫–æ –Ω–∞—Ä–æ–¥–∏–≤—Å—è –≤ –ú–æ—Ä–∏–Ω—Ü—è—Ö.",
        "Nepali": "‡§≠‡§æ‡§®‡•Å‡§≠‡§ï‡•ç‡§§ ‡§Ü‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§§‡§®‡§π‡•Å‡§Å‡§Æ‡§æ ‡§ú‡§®‡•ç‡§Æ‡§ø‡§è‡§ï‡§æ ‡§π‡•Å‡§®‡•ç‡•§",
        "Bengali": "‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶• ‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞ ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶≤‡ßá‡¶ñ‡¶ï‡•§",
        "Swedish": "Zlatan Ibrahimoviƒá f√∂ddes i Malm√∂.",
        "Sanskrit": "‡§≤‡•á‡§ñ‡§ï‡§∏‡•ç‡§Ø ‡§ú‡§®‡•ç‡§Æ ‡§Ö‡§∏‡§Æ‡§¶‡•á‡§∂‡•á ‡§Ö‡§≠‡§µ‡§§‡•ç ‡•§",
        "Bhojpuri": "‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä ‡§è‡§ó‡•ã ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§≠‡§æ‡§∑‡§æ ‡§π‡•§",
        "Bishnupriya": "‡¶¨‡¶ø‡¶∑‡ßç‡¶£‡ßÅ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ ‡¶†‡¶æ‡¶∞‡¶∞ ‡¶∏‡¶æ‡¶π‡¶ø‡¶§‡ßç‡¶Ø‡•§",
        "Chhattisgarhi": "‡§∞‡§æ‡§Ø‡§™‡•Å‡§∞ ‡§õ‡§§‡•ç‡§§‡•Ä‡§∏‡§ó‡§¢‡§º ‡§ï‡•á ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§è‡•§",
        "Dogri": "‡§°‡•ã‡§ó‡§∞‡•Ä ‡§°‡•ã‡§ó‡§∞‡§æ ‡§≤‡•ã‡§ï‡•á‡§Ç ‡§¶‡•Ä ‡§Æ‡§æ‡§§‡•É‡§≠‡§æ‡§∑‡§æ ‡§ê‡•§",
        "Kashmiri": "⁄©Ÿ≤ÿ¥Ÿèÿ± ÿ≤Ÿéÿ®ÿßŸÜ€ÅŸê €ÅŸèŸÜŸõÿØ ÿßŸéÿØŸéÿ®‡•§",
        "Konkani": "‡§ï‡•ã‡§Ç‡¶ï‡¶£‡ßÄ ‡§ó‡•ã‡§Ç‡§Ø‡§ö‡•Ä ‡§∞‡§æ‡§ú‡§≠‡§æ‡§∏‡•§",
        "Maithili": "‡§Æ‡•à‡§•‡§ø‡§≤‡•Ä ‡§Æ‡§ø‡§•‡§ø‡§≤‡§æ‡§ï ‡§≠‡§æ‡§∑‡§æ ‡§•‡§ø‡§ï‡•§",
        "Malayalam": "‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç ‡¥ï‡µá‡¥∞‡¥≥‡¥§‡µç‡¥§‡¥ø‡¥≤‡µÜ ‡¥î‡¥¶‡µç‡¥Ø‡µã‡¥ó‡¥ø‡¥ï ‡¥≠‡¥æ‡¥∑‡¥Ø‡¥æ‡¥£‡µç.",
        "Manipuri": "‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ ‡¶≤‡ßã‡¶≤ ‡¶Ö‡¶∏‡¶ø ‡¶Ö‡¶∞‡¶ø‡¶¨‡¶æ ‡¶≤‡ßã‡¶≤ ‡¶Ö‡¶Æ‡¶®‡¶ø‡•§",
        "Odia": "‡¨ì‡¨°‡¨º‡¨ø‡¨Ü ‡¨è‡¨ï ‡¨™‡≠ç‡¨∞‡¨æ‡¨ö‡≠Ä‡¨® ‡¨≠‡¨æ‡¨∑‡¨æ‡•§",
        "Sindhi": "ÿ≥ŸÜ⁄åŸä ŸªŸàŸÑŸä ŸÇÿØŸäŸÖŸä ŸªŸàŸÑŸä ÿ¢ŸáŸä‡•§"
    };

    const langSelect = document.getElementById('lang-select');
    const textInput = document.getElementById('text-input');
    const analyzeBtn = document.getElementById('analyze-btn');
    const outputDisplay = document.getElementById('output-display');
    const statusText = document.getElementById('status-text');

    // Setup UI
    Object.keys(MODELS).forEach(l => {
        const o = document.createElement('option');
        o.value = l; o.innerText = l;
        langSelect.appendChild(o);
    });
    textInput.value = MODELS["English"];
    langSelect.addEventListener('change', () => textInput.value = MODELS[langSelect.value]);

    async function runInference() {
        const text = textInput.value;
        const lang = langSelect.value;
        
        analyzeBtn.disabled = true;
        statusText.innerText = "Connecting to Hugging Face... (Checking Space Status)";
        outputDisplay.innerText = "Checking if Expert Models are awake...";

        try {
            // Use Client.connect with a direct URL to bypass some DNS lag
            const client = await Client.connect("prachuryyaIITG/AWED-FiNER");
            
            statusText.innerText = "Connected! Requesting allocation...";
            
            // Call the predict function
            const result = await client.predict("/predict", [text, lang]);
            
            outputDisplay.innerText = JSON.stringify(result.data[0], null, 2);
            statusText.innerText = "Success.";
        } catch (err) {
            console.error(err);
            statusText.innerText = "Connection Failed.";
            outputDisplay.innerText = "Error Details: " + err.message + 
            "\n\nTROUBLESHOOTING:\n1. Open https://huggingface.co/spaces/prachuryyaIITG/AWED-FiNER in a new tab.\n2. If it says 'Sleeping', click it to wake it up.\n3. Once the Space says 'Running', try this button again.";
        } finally {
            analyzeBtn.disabled = false;
        }
    }

    analyzeBtn.addEventListener('click', runInference);
</script>

</body>
</html>
