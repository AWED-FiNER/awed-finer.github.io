<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWED-FiNER | 36-Language NER</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js"></script>
    <style>
        :root { --primary: #00568b; --bg: #f4f7f9; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }
        .container { max-width: 800px; margin: auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; }
        select, textarea, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 6px; border: 1px solid #ccc; font-size: 1rem; box-sizing: border-box; }
        button { background: var(--primary); color: #fff; font-weight: bold; cursor: pointer; border: none; }
        button:disabled { background: #aaa; }
        .status { font-size: 0.85rem; color: #666; font-style: italic; margin-bottom: 10px; }
        .output { background: #1a1a1a; color: #00ff00; padding: 15px; border-radius: 6px; min-height: 100px; font-family: monospace; white-space: pre-wrap; overflow-x: auto; border: 1px solid #333; }
    </style>
</head>
<body>

<div class="container">
    <h1>ЁЯМН AWED-FiNER</h1>
    <p style="text-align: center;">Fine-grained NER for 36 Languages</p>

    <label>1. Select Language</label>
    <select id="lang-select"></select>

    <label>2. Input Text</label>
    <textarea id="text-input" rows="3"></textarea>

    <button id="analyze-btn">Analyze Text</button>

    <div id="status-text" class="status">Ready.</div>
    <div id="output-display" class="output">Results will appear here...</div>
</div>

<script type="module">
    import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js";
    const MODELS = {
        "English": "Jude Bellingham joined Real Madrid in 2023.",
        "Chinese": "хзЪцШОхЗ║чФЯф║Оф╕Кц╡╖уАВ",
        "Hindi": "рднрд╛рд░рдд рдХреЗ рдкреВрд░реНрд╡реА рднрд╛рдЧ рдореЗрдВ рд╕реНрдерд┐рдд рдПрдХ рд░рд╛рдЬреНрдп рдкрд╢реНрдЪрд┐рдордмрдВрдЧ рд╣реИред",
        "Spanish": "Madrid es la capital de Espa├▒a.",
        "Bodo": "рдЕрдорд┐рддрд╛рдн рдмрдЪреНрдЪрдирдЖ рд╕рд╛рд╕реЗ рдореБрдВрджрд╛рдВрдЦрд╛ рдлрд╛рд╡рдЦреБрдВрдЧреБрд░ред",
        "Mizo": "Aizawl khaw vawt tak a ni.",
        "Assamese": "ржЕржорж┐рждрж╛ржн ржмржЪрзНржЪржи ржПржЬржи ржмрж┐ржЦрзНржпрж╛ржд ржЕржнрж┐ржирзЗрждрж╛ред",
        "French": "Victor Hugo est n├й ├а Besan├зon.",
        "Urdu": "┘Е╪▒╪▓╪з ╪║╪з┘Д╪и ╪п█Б┘Д█М ┘Е█М┌║ ╪▒█Б╪к█Т ╪к┌╛█Т█Ф",
        "Portuguese": "Cristiano Ronaldo joga futebol.",
        "Marathi": "рд╕рдЪр╕┤р╕Щ рддреЗрдВрдбреБрд▓рдХрд░ рдпрд╛рдВрдЪрд╛ рдЬрдиреНрдо рдореБрдВрдмрдИрдд рдЭрд╛рд▓рд╛.",
        "German": "Albert Einstein wurde in Ulm geboren.",
        "Telugu": "р░Ор░ир▒Н.р░Яр░┐. р░░р░╛р░ор░╛р░░р░╛р░╡р▒Б р░ир░┐р░ор▒Нр░ор░Хр▒Вр░░р▒Бр░▓р▒Л р░Ьр░ир▒Нр░ор░┐р░Вр░Ър░╛р░░р▒Б.",
        "Punjabi": "риори╣ри╛ри░ри╛риЬри╛ ри░ригриЬрйАрид ри╕ри┐рй░риШ риирйЗ ри▓ри╛ри╣рйМри░ 'ридрйЗ ри░ри╛риЬ риХрйАридри╛ред",
        "Tamil": "роЪроЪрпНроЪро┐ройрпН роЯрпЖрогрпНроЯрпБро▓рпНроХро░рпН роЪрпЖройрпНройрпИропро┐ро▓рпН роХро┐ро░ро┐роХрпНроХрпЖроЯрпН ро╡ро┐ро│рпИропро╛роЯро┐ройро╛ро░рпН.",
        "Farsi": "┘Б╪▒╪п┘И╪│█М ╪п╪▒ ╪к┘И╪│ ╪и┘З ╪п┘Ж█М╪з ╪в┘Е╪п.",
        "Italian": "Dante Alighieri ├и nato a Firenze.",
        "Gujarati": "рк░рк╡рк┐ркирлНркжрлНрк░ркирк╛рке ркЯрк╛ркЧрлЛрк░рлЗ ркХрк▓ркХркдрлНркдрк╛ркорк╛ркВ ркЧрлАркдрк╛ркВркЬрк▓рк┐ рк▓ркЦрлА рк╣ркдрлА.",
        "Kannada": "р▓Хр│Ж. р▓╢р▓┐р▓╡р▓░р▓╛р▓о р▓Хр▓╛р▓░р▓Вр▓др▓░р│Б р▓кр│Бр▓др│Нр▓др│Вр▓░р▓┐р▓ир▓▓р│Нр▓▓р▓┐ р▓Ьр▓ир▓┐р▓╕р▓┐р▓жр▓░р│Б.",
        "Ukrainian": "╨в╨░╤А╨░╤Б ╨и╨╡╨▓╤З╨╡╨╜╨║╨╛ ╨╜╨░╤А╨╛╨┤╨╕╨▓╤Б╤П ╨▓ ╨Ь╨╛╤А╨╕╨╜╤Ж╤П╤Е.",
        "Nepali": "рднрд╛рдиреБрднрдХреНрдд рдЖрдЪрд╛рд░реНрдп рддрдирд╣реБрдБрдорд╛ рдЬрдиреНрдорд┐рдПрдХрд╛ рд╣реБрдиреНред",
        "Bengali": "рж░ржмрзАржирзНржжрзНрж░ржирж╛рже ржарж╛ржХрзБрж░ ржПржХржЬржи ржмрж┐ржЦрзНржпрж╛ржд рж▓рзЗржЦржХред",
        "Swedish": "Zlatan Ibrahimovi─З f├╢ddes i Malm├╢.",
        "Sanskrit": "рд▓реЗрдЦрдХрд╕реНрдп рдЬрдиреНрдо рдЕрд╕рдорджреЗрд╢реЗ рдЕрднрд╡рддреН ред",
        "Bhojpuri": "рднреЛрдЬрдкреБрд░реА рдПрдЧреЛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднрд╛рд╖рд╛ рд╣ред",
        "Bishnupriya": "ржмрж┐рж╖рзНржгрзБржкрзНрж░рж┐ржпрж╝рж╛ ржоржгрж┐ржкрзБрж░рзА ржарж╛рж░рж░ рж╕рж╛рж╣рж┐рждрзНржпред",
        "Chhattisgarhi": "рд░рд╛рдпрдкреБрд░ рдЫрддреНрддреАрд╕рдЧрдврд╝ рдХреЗ рд░рд╛рдЬрдзрд╛рдиреА рдПред",
        "Dogri": "рдбреЛрдЧрд░реА рдбреЛрдЧрд░рд╛ рд▓реЛрдХреЗрдВ рджреА рдорд╛рддреГрднрд╛рд╖рд╛ рдРред",
        "Kashmiri": "┌й┘▓╪┤┘П╪▒ ╪▓┘О╪и╪з┘Ж█Б┘Р █Б┘П┘Ж┘Ы╪п ╪з┘О╪п┘О╪иред",
        "Konkani": "рдХреЛрдВржХржгрзА рдЧреЛрдВрдпрдЪреА рд░рд╛рдЬрднрд╛рд╕ред",
        "Maithili": "рдореИрдерд┐рд▓реА рдорд┐рдерд┐рд▓рд╛рдХ рднрд╛рд╖рд╛ рдерд┐рдХред",
        "Malayalam": "р┤ор┤▓р┤пр┤╛р┤│р┤В р┤Хр╡Зр┤░р┤│р┤др╡Нр┤др┤┐р┤▓р╡Ж р┤Фр┤жр╡Нр┤пр╡Лр┤Чр┤┐р┤Х р┤нр┤╛р┤╖р┤пр┤╛р┤гр╡Н.",
        "Manipuri": "ржоржгрж┐ржкрзБрж░рзА рж▓рзЛрж▓ ржЕрж╕рж┐ ржЕрж░рж┐ржмрж╛ рж▓рзЛрж▓ ржЕржоржирж┐ред",
        "Odia": "рмУрмбрм╝рм┐рмЖ рмПрмХ рмкрнНрм░рм╛рмЪрнАрми рмнрм╛рм╖рм╛ред",
        "Sindhi": "╪│┘Ж┌М┘К ┘╗┘И┘Д┘К ┘В╪п┘К┘Е┘К ┘╗┘И┘Д┘К ╪в┘З┘Кред"
    };
    
    const langSelect = document.getElementById('lang-select');
    const textInput = document.getElementById('text-input');
    const analyzeBtn = document.getElementById('analyze-btn');
    const outputDisplay = document.getElementById('output-display');
    const statusText = document.getElementById('status-text');

    async function runInference() {
        const text = textInput.value;
        const lang = langSelect.value;
        
        analyzeBtn.disabled = true;
        statusText.innerText = "Connected. Waiting for ZeroGPU to assign hardware...";
        outputDisplay.innerText = "Requesting GPU allocation (this can take 10-30 seconds depending on traffic)...";

        try {
            const client = await Client.connect("prachuryyaIITG/AWED-FiNER");
            
            // Using .submit() allows the browser to wait for the GPU allocation signal
            const job = client.submit("/predict", [text, lang]);

            for await (const message of job) {
                if (message.type === "status") {
                    const stage = message.stage;
                    const position = message.position ? ` (Queue position: ${message.position})` : "";
                    statusText.innerText = `ZeroGPU Status: ${stage.toUpperCase()}${position}`;
                }
                
                if (message.type === "data") {
                    outputDisplay.innerText = JSON.stringify(message.data[0], null, 2);
                    statusText.innerText = "Analysis Successful!";
                }
            }
        } catch (err) {
            console.error(err);
            statusText.innerText = "Inference failed.";
            outputDisplay.innerText = "Error: " + err.message;
        } finally {
            analyzeBtn.disabled = false;
        }
    }

    analyzeBtn.addEventListener('click', runInference);
</script>

</body>
</html>
