<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWED-FiNER | Fine-grained NER across 36 Languages</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js"></script>
    <style>
        :root { --primary: #00568b; --bg: #f4f7f9; --text: #333; }
        body { font-family: -apple-system, sans-serif; line-height: 1.6; background: var(--bg); color: var(--text); margin: 0; padding: 0; }
        .header { background: var(--primary); color: white; padding: 2.5rem 1rem; text-align: center; }
        .container { max-width: 900px; margin: -2rem auto 2rem; padding: 0 1rem; }
        .card { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 2rem; }
        label { display: block; font-weight: bold; margin-bottom: 0.5rem; color: var(--primary); }
        select, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 1rem; box-sizing: border-box; margin-bottom: 1rem; }
        button { background: var(--primary); color: white; border: none; padding: 1rem; font-size: 1.1rem; border-radius: 6px; cursor: pointer; width: 100%; font-weight: bold; transition: 0.3s; }
        button:disabled { background: #999; }
        .output-box { margin-top: 1rem; padding: 1rem; background: #1e1e1e; color: #60ef60; border-radius: 6px; min-height: 100px; font-family: monospace; white-space: pre-wrap; border: 1px solid #333; }
        .status-msg { font-size: 0.85rem; color: #666; margin-bottom: 5px; font-style: italic; }
    </style>
</head>
<body>

<div class="header">
    <h1>üåç AWED-FiNER</h1>
    <p>Fine-grained NER across 36 languages</p>
</div>

<div class="container">
    <div class="card">
        <label for="lang-select">1. Select Language</label>
        <select id="lang-select"></select>

        <label for="text-input">2. Input Text</label>
        <textarea id="text-input" rows="3"></textarea>

        <button id="analyze-btn">Analyze Text</button>

        <div id="status-area" class="status-msg"></div>
        <div id="output-display" class="output-box">Results will appear here...</div>
    </div>
</div>

<script type="module">
    import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client@1.3.0/dist/index.min.js";

    const MODELS = {
        "English": "Jude Bellingham joined Real Madrid in 2023.",
        "Chinese": "ÂßöÊòéÂá∫Áîü‰∫é‰∏äÊµ∑„ÄÇ",
        "Hindi": "‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§™‡•Ç‡§∞‡•ç‡§µ‡•Ä ‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§•‡§ø‡§§ ‡§è‡§ï ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ‡§¨‡§Ç‡§ó ‡§π‡•à‡•§",
        "Spanish": "Madrid es la capital de Espa√±a.",
        "Bodo": "‡§Ö‡§Æ‡§ø‡§§‡§æ‡§≠ ‡§¨‡§ö‡•ç‡§ö‡§®‡§Ü ‡§∏‡§æ‡§∏‡•á ‡§Æ‡•Å‡§Ç‡§¶‡§æ‡§Ç‡§ñ‡§æ ‡§´‡§æ‡§µ‡§ñ‡•Å‡§Ç‡§ó‡•Å‡§∞‡•§",
        "Mizo": "Aizawl khaw vawt tak a ni.",
        "Assamese": "‡¶Ö‡¶Æ‡¶ø‡¶§‡¶æ‡¶≠ ‡¶¨‡¶ö‡ßç‡¶ö‡¶® ‡¶è‡¶ú‡¶® ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶Ö‡¶≠‡¶ø‡¶®‡ßá‡¶§‡¶æ‡•§",
        "French": "Victor Hugo est n√© √† Besan√ßon.",
        "Urdu": "ŸÖÿ±ÿ≤ÿß ÿ∫ÿßŸÑÿ® ÿØ€ÅŸÑ€å ŸÖ€å⁄∫ ÿ±€Åÿ™€í ÿ™⁄æ€í€î",
        "Portuguese": "Cristiano Ronaldo joga futebol.",
        "Marathi": "‡§∏‡§ö‡§ø‡§® ‡§§‡•á‡§Ç‡§°‡•Å‡§≤‡§ï‡§∞ ‡§Ø‡§æ‡§Ç‡§ö‡§æ ‡§ú‡§®‡•ç‡§Æ ‡§Æ‡•Å‡§Ç‡§¨‡§à‡§§ ‡§ù‡§æ‡§≤‡§æ.",
        "German": "Albert Einstein wurde in Ulm geboren.",
        "Telugu": "‡∞é‡∞®‡±ç.‡∞ü‡∞ø. ‡∞∞‡∞æ‡∞Æ‡∞æ‡∞∞‡∞æ‡∞µ‡±Å ‡∞®‡∞ø‡∞Æ‡±ç‡∞Æ‡∞ï‡±Ç‡∞∞‡±Å‡∞≤‡±ã ‡∞ú‡∞®‡±ç‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞æ‡∞∞‡±Å.",
        "Punjabi": "‡®Æ‡®π‡®æ‡®∞‡®æ‡®ú‡®æ ‡®∞‡®£‡®ú‡©Ä‡®§ ‡®∏‡®ø‡©∞‡®ò ‡®®‡©á ‡®≤‡®æ‡®π‡©å‡®∞ '‡®§‡©á ‡®∞‡®æ‡®ú ‡®ï‡©Ä‡®§‡®æ‡•§",
        "Tamil": "‡Æö‡Æö‡Øç‡Æö‡Æø‡Æ©‡Øç ‡Æü‡ØÜ‡Æ£‡Øç‡Æü‡ØÅ‡Æ≤‡Øç‡Æï‡Æ∞‡Øç ‡Æö‡ØÜ‡Æ©‡Øç‡Æ©‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æï‡Æø‡Æ∞‡Æø‡Æï‡Øç‡Æï‡ØÜ‡Æü‡Øç ‡Æµ‡Æø‡Æ≥‡Øà‡ÆØ‡Ææ‡Æü‡Æø‡Æ©‡Ææ‡Æ∞‡Øç.",
        "Farsi": "ŸÅÿ±ÿØŸàÿ≥€å ÿØÿ± ÿ™Ÿàÿ≥ ÿ®Ÿá ÿØŸÜ€åÿß ÿ¢ŸÖÿØ.",
        "Italian": "Dante Alighieri √® nato a Firenze.",
        "Gujarati": "‡™∞‡™µ‡™ø‡™®‡´ç‡™¶‡´ç‡™∞‡™®‡™æ‡™• ‡™ü‡™æ‡™ó‡´ã‡™∞‡´á ‡™ï‡™≤‡™ï‡™§‡´ç‡™§‡™æ‡™Æ‡™æ‡™Ç ‡™ó‡´Ä‡™§‡™æ‡™Ç‡™ú‡™≤‡™ø ‡™≤‡™ñ‡´Ä ‡™π‡™§‡´Ä.",
        "Kannada": "‡≤ï‡≥Ü. ‡≤∂‡≤ø‡≤µ‡≤∞‡≤æ‡≤Æ ‡≤ï‡≤æ‡≤∞‡≤Ç‡≤§‡≤∞‡≥Å ‡≤™‡≥Å‡≤§‡≥ç‡≤§‡≥Ç‡≤∞‡≤ø‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤ú‡≤®‡≤ø‡≤∏‡≤ø‡≤¶‡≤∞‡≥Å.",
        "Ukrainian": "–¢–∞—Ä–∞—Å –®–µ–≤—á–µ–Ω–∫–æ –Ω–∞—Ä–æ–¥–∏–≤—Å—è –≤ –ú–æ—Ä–∏–Ω—Ü—è—Ö.",
        "Nepali": "‡§≠‡§æ‡§®‡•Å‡§≠‡§ï‡•ç‡§§ ‡§Ü‡§ö‡§æ‡§∞‡•ç‡§Ø ‡§§‡§®‡§π‡•Å‡§Å‡§Æ‡§æ ‡§ú‡§®‡•ç‡§Æ‡§ø‡§è‡§ï‡§æ ‡§π‡•Å‡§®‡•ç‡•§",
        "Bengali": "‡¶∞‡¶¨‡ßÄ‡¶®‡ßç‡¶¶‡ßç‡¶∞‡¶®‡¶æ‡¶• ‡¶†‡¶æ‡¶ï‡ßÅ‡¶∞ ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡¶ø‡¶ñ‡ßç‡¶Ø‡¶æ‡¶§ ‡¶≤‡ßá‡¶ñ‡¶ï‡•§",
        "Swedish": "Zlatan Ibrahimoviƒá f√∂ddes i Malm√∂.",
        "Sanskrit": "‡§≤‡•á‡§ñ‡§ï‡§∏‡•ç‡§Ø ‡§ú‡§®‡•ç‡§Æ ‡§Ö‡§∏‡§Æ‡§¶‡•á‡§∂‡•á ‡§Ö‡§≠‡§µ‡§§‡•ç ‡•§",
    };

    document.addEventListener('DOMContentLoaded', () => {
        const langSelect = document.getElementById('lang-select');
        const textInput = document.getElementById('text-input');
        const analyzeBtn = document.getElementById('analyze-btn');
        const outputDisplay = document.getElementById('output-display');
        const statusArea = document.getElementById('status-area');

        // 1. Populate Dropdown immediately
        Object.keys(MODELS).forEach(lang => {
            const opt = document.createElement('option');
            opt.value = lang;
            opt.textContent = lang;
            langSelect.appendChild(opt);
        });

        textInput.value = MODELS["English"];

        // 2. Handle Dropdown change
        langSelect.addEventListener('change', () => {
            textInput.value = MODELS[langSelect.value] || "";
        });

        // 3. Inference Logic
        async function runInference() {
            const text = textInput.value;
            const lang = langSelect.value;
            
            analyzeBtn.disabled = true;
            analyzeBtn.innerText = "Processing...";
            statusArea.innerText = "Connecting to Hugging Face API...";

            try {
                const app = await Client.connect("prachuryyaIITG/AWED-FiNER");
                
                // Using array format [text, language] to match your app.py inputs
                const result = await app.predict("/predict", [text, lang]);
                
                outputDisplay.innerText = JSON.stringify(result.data[0], null, 2);
                statusArea.innerText = "Analysis Complete.";
            } catch (error) {
                console.error(error);
                statusArea.innerText = "Error encountered.";
                outputDisplay.innerText = "Error: " + error.message + "\n\nTip: Ensure your HF Space is 'Public'.";
            } finally {
                analyzeBtn.disabled = false;
                analyzeBtn.innerText = "Analyze Text";
            }
        }

        analyzeBtn.addEventListener('click', runInference);
    });
</script>
</body>
</html>
